(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{335:function(t,e,r){"use strict";function n(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(e,"a",(function(){return n}))},467:function(t,e,r){var map={"./af":336,"./af.js":336,"./ar":337,"./ar-dz":338,"./ar-dz.js":338,"./ar-kw":339,"./ar-kw.js":339,"./ar-ly":340,"./ar-ly.js":340,"./ar-ma":341,"./ar-ma.js":341,"./ar-sa":342,"./ar-sa.js":342,"./ar-tn":343,"./ar-tn.js":343,"./ar.js":337,"./az":344,"./az.js":344,"./be":345,"./be.js":345,"./bg":346,"./bg.js":346,"./bm":347,"./bm.js":347,"./bn":348,"./bn.js":348,"./bo":349,"./bo.js":349,"./br":350,"./br.js":350,"./bs":351,"./bs.js":351,"./ca":352,"./ca.js":352,"./cs":353,"./cs.js":353,"./cv":354,"./cv.js":354,"./cy":355,"./cy.js":355,"./da":356,"./da.js":356,"./de":357,"./de-at":358,"./de-at.js":358,"./de-ch":359,"./de-ch.js":359,"./de.js":357,"./dv":360,"./dv.js":360,"./el":361,"./el.js":361,"./en-SG":362,"./en-SG.js":362,"./en-au":363,"./en-au.js":363,"./en-ca":364,"./en-ca.js":364,"./en-gb":365,"./en-gb.js":365,"./en-ie":366,"./en-ie.js":366,"./en-il":367,"./en-il.js":367,"./en-nz":368,"./en-nz.js":368,"./eo":369,"./eo.js":369,"./es":370,"./es-do":371,"./es-do.js":371,"./es-us":372,"./es-us.js":372,"./es.js":370,"./et":373,"./et.js":373,"./eu":374,"./eu.js":374,"./fa":375,"./fa.js":375,"./fi":376,"./fi.js":376,"./fo":377,"./fo.js":377,"./fr":378,"./fr-ca":379,"./fr-ca.js":379,"./fr-ch":380,"./fr-ch.js":380,"./fr.js":378,"./fy":381,"./fy.js":381,"./ga":382,"./ga.js":382,"./gd":383,"./gd.js":383,"./gl":384,"./gl.js":384,"./gom-latn":385,"./gom-latn.js":385,"./gu":386,"./gu.js":386,"./he":387,"./he.js":387,"./hi":388,"./hi.js":388,"./hr":389,"./hr.js":389,"./hu":390,"./hu.js":390,"./hy-am":391,"./hy-am.js":391,"./id":392,"./id.js":392,"./is":393,"./is.js":393,"./it":394,"./it-ch":395,"./it-ch.js":395,"./it.js":394,"./ja":396,"./ja.js":396,"./jv":397,"./jv.js":397,"./ka":398,"./ka.js":398,"./kk":399,"./kk.js":399,"./km":400,"./km.js":400,"./kn":401,"./kn.js":401,"./ko":402,"./ko.js":402,"./ku":403,"./ku.js":403,"./ky":404,"./ky.js":404,"./lb":405,"./lb.js":405,"./lo":406,"./lo.js":406,"./lt":407,"./lt.js":407,"./lv":408,"./lv.js":408,"./me":409,"./me.js":409,"./mi":410,"./mi.js":410,"./mk":411,"./mk.js":411,"./ml":412,"./ml.js":412,"./mn":413,"./mn.js":413,"./mr":414,"./mr.js":414,"./ms":415,"./ms-my":416,"./ms-my.js":416,"./ms.js":415,"./mt":417,"./mt.js":417,"./my":418,"./my.js":418,"./nb":419,"./nb.js":419,"./ne":420,"./ne.js":420,"./nl":421,"./nl-be":422,"./nl-be.js":422,"./nl.js":421,"./nn":423,"./nn.js":423,"./pa-in":424,"./pa-in.js":424,"./pl":425,"./pl.js":425,"./pt":426,"./pt-br":427,"./pt-br.js":427,"./pt.js":426,"./ro":428,"./ro.js":428,"./ru":429,"./ru.js":429,"./sd":430,"./sd.js":430,"./se":431,"./se.js":431,"./si":432,"./si.js":432,"./sk":433,"./sk.js":433,"./sl":434,"./sl.js":434,"./sq":435,"./sq.js":435,"./sr":436,"./sr-cyrl":437,"./sr-cyrl.js":437,"./sr.js":436,"./ss":438,"./ss.js":438,"./sv":439,"./sv.js":439,"./sw":440,"./sw.js":440,"./ta":441,"./ta.js":441,"./te":442,"./te.js":442,"./tet":443,"./tet.js":443,"./tg":444,"./tg.js":444,"./th":445,"./th.js":445,"./tl-ph":446,"./tl-ph.js":446,"./tlh":447,"./tlh.js":447,"./tr":448,"./tr.js":448,"./tzl":449,"./tzl.js":449,"./tzm":450,"./tzm-latn":451,"./tzm-latn.js":451,"./tzm.js":450,"./ug-cn":452,"./ug-cn.js":452,"./uk":453,"./uk.js":453,"./ur":454,"./ur.js":454,"./uz":455,"./uz-latn":456,"./uz-latn.js":456,"./uz.js":455,"./vi":457,"./vi.js":457,"./x-pseudo":458,"./x-pseudo.js":458,"./yo":459,"./yo.js":459,"./zh-cn":460,"./zh-cn.js":460,"./zh-hk":461,"./zh-hk.js":461,"./zh-tw":462,"./zh-tw.js":462};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=467},468:function(t,e,r){var content=r(508);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(12).default)("38b3a0b8",content,!0,{sourceMap:!1})},469:function(t,e,r){var content=r(510);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(12).default)("57d8d963",content,!0,{sourceMap:!1})},507:function(t,e,r){"use strict";var n=r(468);r.n(n).a},508:function(t,e,r){(e=r(11)(!1)).push([t.i,'.search-form[data-v-0a269c2d]{border:1px solid #ddd;border-top:none;width:360px;height:350px;box-sizing:border-box}.search-tab span[data-v-0a269c2d]{display:block;flex:1;text-align:center;height:48px;line-height:42px;box-sizing:border-box;border-top:3px solid #eee;background:#eee;cursor:pointer}.search-tab .active[data-v-0a269c2d]{border-top-color:orange;background:#fff}.search-tab i[data-v-0a269c2d]{margin-right:5px;font-size:18px}.search-tab i[data-v-0a269c2d]:first-child{font-size:16px}.search-form-content[data-v-0a269c2d]{padding:15px 50px 15px 15px;position:relative}.search-form-content .el-autocomplete[data-v-0a269c2d]{width:100%}.reverse[data-v-0a269c2d]{position:absolute;top:35px;right:15px}.reverse[data-v-0a269c2d]:after,.reverse[data-v-0a269c2d]:before{display:block;content:"";position:absolute;left:-35px;width:25px;height:1px;background:#ccc}.reverse[data-v-0a269c2d]:after{top:0}.reverse[data-v-0a269c2d]:before{top:60px}.reverse span[data-v-0a269c2d]{display:block;position:absolute;top:20px;right:0;font-size:12px;background:#999;color:#fff;width:20px;height:20px;line-height:18px;text-align:center;border-radius:2px;cursor:pointer}.reverse span[data-v-0a269c2d]:after,.reverse span[data-v-0a269c2d]:before{display:block;content:"";position:absolute;left:10px;width:1px;height:20px;background:#ccc}.reverse span[data-v-0a269c2d]:after{top:-20px}.reverse span[data-v-0a269c2d]:before{top:20px}',""]),t.exports=e},509:function(t,e,r){"use strict";var n=r(469);r.n(n).a},510:function(t,e,r){(e=r(11)(!1)).push([t.i,".air-sale[data-v-7c7fd6b1]{border:1px solid #ddd;padding:20px;margin-bottom:50px}.air-sale .air-sale-pic>div[data-v-7c7fd6b1]{width:225px;height:140px;position:relative;overflow:hidden}.air-sale .air-sale-pic>div img[data-v-7c7fd6b1]{width:100%}.air-sale .air-sale-pic>div .layer-bar[data-v-7c7fd6b1]{position:absolute;bottom:0;left:0;background:rgba(0,0,0,.5);color:#fff;height:30px;line-height:30px;width:100%;box-sizing:border-box;padding:0 15px;font-size:14px}.air-sale .air-sale-pic>div .layer-bar span[data-v-7c7fd6b1]:last-child{font-size:18px}.air-sale-group[data-v-7c7fd6b1]{margin-top:20px;padding-top:8px;border-right:1px solid #eee}.air-sale-group[data-v-7c7fd6b1]:last-child{border-right:none}.air-sale-group .air-sale-row[data-v-7c7fd6b1]{font-size:12px;color:#666;margin-bottom:8px}.air-sale-group .air-sale-row .air-sale-price[data-v-7c7fd6b1]{color:orange;font-size:20px}.container[data-v-7c7fd6b1]{width:1000px;margin:0 auto}.air-title[data-v-7c7fd6b1]{margin:15px 0;font-weight:400;color:orange}.air-title[data-v-7c7fd6b1],.air-title span[data-v-7c7fd6b1]{font-size:20px}.statement[data-v-7c7fd6b1]{margin:15px 0;border:1px solid #ddd;background:#f5f5f5;height:58px;padding:10px 0;box-sizing:border-box}.statement>div[data-v-7c7fd6b1]{text-align:center;line-height:38px;border-right:1px solid #ddd}.statement>div[data-v-7c7fd6b1]:last-child{border-right:none}.statement>div *[data-v-7c7fd6b1]{vertical-align:middle}.statement>div i[data-v-7c7fd6b1]{font-size:30px}.air-sale-title[data-v-7c7fd6b1]{margin:15px 0;font-size:20px;font-weight:400;color:#409eff}.air-sale-title span[data-v-7c7fd6b1]{font-size:20px}",""]),t.exports=e},596:function(t,e,r){"use strict";r.r(e);r(127),r(32),r(88),r(89);var n=r(59),o=(r(57),r(5)),c=r(335),l=(r(25),r(20),r(87),r(334)),d=r.n(l);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var h={data:function(){return{currentIndex:0,pickerOptions:{disabledDate:function(time){return time.getTime()<Date.now()-864e5}},tabList:[{icon:"iconfont icondancheng",name:"单程"},{icon:"iconfont iconshuangxiang",name:"往返"}],form:{departCity:"",departCode:"",destCity:"",destCode:"",departDate:""}}},methods:{handleTabList:function(t){1===t&&this.$alert("目前暂不支持往返，后续功能添加中","提示",{confirmButtonText:"确定",type:"warning",callback:function(t){}})},handleDepartSelect:function(data){this.form.departCity=data.value,this.form.departCode=data.sort},handleDestSelect:function(data){this.form.destCity=data.value,this.form.destCode=data.sort},handleDate:function(data){this.form.departDate=d()(data).format("YYYY-MM-DD")},handleSubmit:function(){var t=this,e={depart:{value:this.form.departCity,message:"请搜索出发城市"},dest:{value:this.form.destCity,message:"请搜索到达城市"},departTime:{value:this.form.departDate,message:"请选择出发日期"}},r=!0;if(Object.keys(e).forEach((function(n){r&&(e[n].value||(r=!1,t.$alert(e[n].message,"提示",{confirmButtonText:"确定",callback:function(t){}})))})),r){var n=this.$store.state.air.airHistory;n=[this.form].concat(Object(c.a)(n));var o={};n=n.reduce((function(t,e){return!o[e.departCity+e.destCity+e.departDate]&&(o[e.departCity+e.destCity+e.departDate]=t.push(e)),t}),[]),this.$store.commit("air/addAirHistory",n),this.$router.push({path:"/air/flights",query:this.form})}},handleReverse:function(){var t=this.form,e=t.departCity,r=t.departCode,n=t.destCity,o=t.destCode;this.form.departCity=n,this.form.departCode=o,this.form.destCity=e,this.form.destCode=r},queryDepartSearch:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.querySearchAsync(r.form.departCity);case 2:(n=t.sent).length>0&&(r.form.departCity=n[0].value,r.form.departCode=n[0].sort),e(n);case 5:case"end":return t.stop()}}),t)})))()},queryDestSearch:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.querySearchAsync(r.form.destCity);case 2:(n=t.sent).length>0&&(r.form.destCity=n[0].value,r.form.destCode=n[0].sort),e(n);case 5:case"end":return t.stop()}}),t)})))()},querySearchAsync:function(t){var e=this;return new Promise((function(r,o){t||r([]),e.$store.dispatch("air/getCityName",{name:t}).then((function(t){var data=t.data;data=data.data.map((function(t){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},t,{value:t.name.replace("市","")})})),r(data)}))}))}}},j=(r(507),r(13)),m={components:{SearchAir:Object(j.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-form"},[r("el-row",{staticClass:"search-tab",attrs:{type:"flex"}},t._l(t.tabList,(function(e,n){return r("span",{key:n,class:{active:n===t.currentIndex},on:{click:function(e){return t.handleTabList(n)}}},[r("i",{class:e.icon}),t._v("\n      "+t._s(e.name)+"\n    ")])})),0),t._v(" "),r("el-form",{ref:"form",staticClass:"search-form-content",attrs:{"label-width":"80px"}},[r("el-form-item",{attrs:{label:"出发城市"}},[r("el-autocomplete",{staticClass:"el-autocomplete",attrs:{"fetch-suggestions":t.queryDepartSearch,placeholder:"请搜索出发城市"},on:{select:t.handleDepartSelect},model:{value:t.form.departCity,callback:function(e){t.$set(t.form,"departCity",e)},expression:"form.departCity"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"到达城市"}},[r("el-autocomplete",{staticClass:"el-autocomplete",attrs:{"fetch-suggestions":t.queryDestSearch,placeholder:"请搜索到达城市"},on:{select:t.handleDestSelect},model:{value:t.form.destCity,callback:function(e){t.$set(t.form,"destCity",e)},expression:"form.destCity"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"出发时间"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期","picker-options":t.pickerOptions},on:{change:t.handleDate},model:{value:t.form.departDate,callback:function(e){t.$set(t.form,"departDate",e)},expression:"form.departDate"}})],1),t._v(" "),r("el-form-item",{attrs:{label:""}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleSubmit}},[t._v("搜索")])],1),t._v(" "),r("div",{staticClass:"reverse"},[r("span",{on:{click:t.handleReverse}},[t._v("换")])])],1)],1)}),[],!1,null,"0a269c2d",null).exports},data:function(){return{specialSale:[]}},mounted:function(){var t=this;this.$axios({url:"/airs/sale"}).then((function(e){var data=e.data;t.specialSale=data.data}))}},v=(r(509),Object(j.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"container"},[t._m(0),t._v(" "),r("el-row",{attrs:{type:"flex",justify:"space-between"}},[r("SearchAir"),t._v(" "),r("div",{staticClass:"sale-banner"},[r("img",{attrs:{src:"http://157.122.54.189:9093/images/pic_sale.jpeg"}})])],1),t._v(" "),r("el-row",{staticClass:"statement",attrs:{type:"flex"}},[r("el-col",{attrs:{span:8}},[r("i",{staticClass:"iconfont iconweibiaoti-_huabanfuben",staticStyle:{color:"#409EFF"}}),t._v(" "),r("span",[t._v("100%航协认证")])]),t._v(" "),r("el-col",{attrs:{span:8}},[r("i",{staticClass:"iconfont iconbaozheng",staticStyle:{color:"green"}}),t._v(" "),r("span",[t._v("出行保证")])]),t._v(" "),r("el-col",{attrs:{span:8}},[r("i",{staticClass:"iconfont icondianhua",staticStyle:{color:"#409EFF"}}),t._v(" "),r("span",[t._v("7x24小时服务")])])],1),t._v(" "),t._m(1),t._v(" "),r("div",{staticClass:"air-sale"},[r("el-row",{staticClass:"air-sale-pic",attrs:{justify:"space-between",type:"flex"}},t._l(t.specialSale,(function(e,n){return r("el-col",{key:n,attrs:{span:6}},[r("nuxt-link",{attrs:{to:"/air/flights?departCity="+e.departCity+"&departCode="+e.departCode+"&destCity="+e.destCity+"&destCode="+e.destCode+"&departDate="+e.departDate}},[r("img",{attrs:{src:e.cover,alt:""}}),t._v(" "),r("el-row",{staticClass:"layer-bar",attrs:{type:"flex",justify:"space-between"}},[r("span",[t._v(t._s(e.departCity)+" - "+t._s(e.destCity))]),t._v(" "),r("span",[t._v("￥"+t._s(e.price))])])],1)],1)})),1)],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"air-title"},[e("span",{staticClass:"iconfont iconfeiji"}),this._v(" "),e("i",[this._v("国内机票")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"air-sale-title"},[e("span",{staticClass:"iconfont icontejiajipiao"}),this._v(" "),e("i",[this._v("特价机票")])])}],!1,null,"7c7fd6b1",null));e.default=v.exports}}]);