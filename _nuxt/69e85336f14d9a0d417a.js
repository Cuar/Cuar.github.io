(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{488:function(t,e,n){var content=n(563);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("6c641ddc",content,!0,{sourceMap:!1})},562:function(t,e,n){"use strict";var r=n(488);n.n(r).a},563:function(t,e,n){(e=n(11)(!1)).push([t.i,".container[data-v-9caf32de]{background:#f5f5f5;padding:30px 0}.container .main[data-v-9caf32de]{width:1000px;margin:0 auto}.container .main .pay-title[data-v-9caf32de]{text-align:right}.container .main .pay-title span[data-v-9caf32de]{font-size:28px;color:#ff4500}.container .main .pay-main[data-v-9caf32de]{background:#fff;margin-top:10px;border-top:5px solid orange;padding:30px}.container .main .pay-main h4[data-v-9caf32de]{font-size:28px;font-weight:400;margin-bottom:10px}.container .main .pay-main .pay-qrcode[data-v-9caf32de]{padding:0 80px}.container .main .pay-main .qrcode[data-v-9caf32de]{border:1px solid #ddd;padding:15px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.container .main .pay-main .qrcode #qrcode-stage[data-v-9caf32de]{width:200px;height:200px;margin-bottom:10px}.container .main .pay-main .qrcode p[data-v-9caf32de]{line-height:2;text-align:center}",""]),t.exports=e},597:function(t,e,n){"use strict";n.r(e);n(57);var r=n(5),o=(n(20),n(541)),c=n.n(o),d={data:function(){return{infoData:{users:{}},time:null}},methods:{payChecked:function(data){var t=this,e=this.$route.query.id,n=this.$store.state.user.userInfo;return this.$axios({method:"post",url:"/airorders/checkpay",headers:{Authorization:"Bearer "+n.token},data:{id:e,nonce_str:data.payInfo.nonce_str,out_trade_no:data.payInfo.order_no}}).then((function(e){var data=e.data;return"支付完成"===data.statusTxt?(t.$alert(data.statusTxt,"提示",{confirmButtonText:"确定",type:"warning"}),Promise.resolve(!0)):Promise.resolve(!1)}))}},mounted:function(){var t=this;setTimeout((function(){var e=t.$route.query.id,n=t.$store.state.user.userInfo;t.$axios({url:"/airorders/".concat(e),headers:{Authorization:"Bearer "+n.token}}).then((function(e){var data=e.data;t.infoData=data,c.a.toCanvas(t.$refs.qrcode_img,data.payInfo.code_url,{width:200}),t.time=setInterval(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.payChecked(data);case 2:if(!e.sent){e.next=6;break}return clearInterval(t.time),e.abrupt("return");case 6:case"end":return e.stop()}}),e)}))),3e3)}))}),200)},destroyed:function(){clearInterval(this.time)}},f=(n(562),n(13)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"main"},[n("div",{staticClass:"pay-title"},[t._v("\n      支付总金额\n      "),n("span",{staticClass:"pay-price"},[t._v("￥ "+t._s(t.infoData.price))])]),t._v(" "),n("div",{staticClass:"pay-main"},[n("h4",[t._v("微信支付")]),t._v(" "),n("el-row",{staticClass:"pay-qrcode",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("div",{staticClass:"qrcode"},[n("canvas",{ref:"qrcode_img",attrs:{id:"qrcode-stage"}}),t._v(" "),n("p",[t._v("请使用微信扫一扫")]),t._v(" "),n("p",[t._v("扫描二维码支付")])]),t._v(" "),n("div",{staticClass:"pay-example"},[n("img",{attrs:{src:"http://157.122.54.189:9093/images/wx-sweep2.jpg",alt:""}})])])],1)])])}),[],!1,null,"9caf32de",null);e.default=component.exports}}]);